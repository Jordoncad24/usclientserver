{"ast":null,"code":"import React from'react';import{useParams}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const RegionPage=_ref=>{let{data}=_ref;const{regionId}=useParams();const regionData=data.find(region=>region.region===regionId);if(!regionData){return/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:\"Region not found\"});}if(!regionData.results||!regionData.results.stats||!regionData.results.services){return/*#__PURE__*/_jsx(\"p\",{className:\"error-message\",children:\"Incomplete data for the selected region\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"region-status\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Region: \",regionData.region.toUpperCase()]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Status: \",/*#__PURE__*/_jsx(\"span\",{className:`status-${regionData.status.toLowerCase()}`,children:regionData.status})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Last Checked: \",new Date(regionData.lastChecked).toLocaleString()]}),/*#__PURE__*/_jsxs(\"div\",{className:\"services\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Services Status\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Redis: \",regionData.results.services.redis?'Online':'Offline']}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Database: \",regionData.results.services.database?'Online':'Offline']})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"server-stats\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Server Stats\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Servers Count: \",regionData.results.stats.servers_count]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Online: \",regionData.results.stats.online]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Sessions: \",regionData.results.stats.session]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Active Connections: \",regionData.results.stats.server.active_connections]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"CPU Load: \",regionData.results.stats.server.cpu_load*100,\"%\"]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Timers: \",regionData.results.stats.server.timers]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"worker-stats\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Worker Stats\"}),regionData.results.stats.server.workers.map(_ref2=>{let[name,stats]=_ref2;return/*#__PURE__*/_jsxs(\"div\",{className:\"worker\",children:[/*#__PURE__*/_jsx(\"h4\",{children:name.replace(/_/g,' ').toUpperCase()}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Workers: \",stats.workers]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Waiting: \",stats.waiting]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Idle: \",stats.idle]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Wait Time: \",stats.wait_time,\" ms\"]}),/*#__PURE__*/_jsx(\"h5\",{children:\"Top Keys\"}),/*#__PURE__*/_jsx(\"ul\",{children:stats.top_keys.map(_ref3=>{let[key,value]=_ref3;return/*#__PURE__*/_jsxs(\"li\",{children:[key,\": \",value]},key);})}),/*#__PURE__*/_jsx(\"h5\",{children:\"Recently Blocked Keys\"}),/*#__PURE__*/_jsx(\"ul\",{children:stats.recently_blocked_keys.map(_ref4=>{let[key,count,timestamp]=_ref4;return/*#__PURE__*/_jsxs(\"li\",{children:[key,\" - \",count,\" times (Last Blocked: \",new Date(timestamp).toLocaleString(),\")\"]},key);})})]},name);})]})]});};export default RegionPage;","map":{"version":3,"names":["React","useParams","jsx","_jsx","jsxs","_jsxs","RegionPage","_ref","data","regionId","regionData","find","region","className","children","results","stats","services","toUpperCase","status","toLowerCase","Date","lastChecked","toLocaleString","redis","database","servers_count","online","session","server","active_connections","cpu_load","timers","workers","map","_ref2","name","replace","waiting","idle","wait_time","top_keys","_ref3","key","value","recently_blocked_keys","_ref4","count","timestamp"],"sources":["C:/Users/theco/Documents/websocket-clientserver/websocket-client/src/RegionPage.tsx"],"sourcesContent":["import React from 'react';\r\nimport { useParams } from 'react-router-dom';\r\n\r\ninterface WorkerStats {\r\n  wait_time: number;\r\n  workers: number;\r\n  waiting: number;\r\n  idle: number;\r\n  time_to_return: number;\r\n  recently_blocked_keys: [string, number, string][];\r\n  top_keys: [string, number][];\r\n}\r\n\r\ninterface ServerStats {\r\n  active_connections: number;\r\n  wait_time: number;\r\n  workers: [string, WorkerStats][];\r\n  cpu_load: number;\r\n  timers: number;\r\n}\r\n\r\ninterface ResultData {\r\n  services: {\r\n    redis: boolean;\r\n    database: boolean;\r\n  };\r\n  stats: {\r\n    servers_count: number;\r\n    online: number;\r\n    session: number;\r\n    server: ServerStats;\r\n  };\r\n}\r\n\r\ninterface RegionData {\r\n  status: string;\r\n  region: string;\r\n  results: ResultData;\r\n  lastChecked: string;\r\n}\r\n\r\ninterface RegionPageProps {\r\n  data: RegionData[];\r\n}\r\n\r\nconst RegionPage: React.FC<RegionPageProps> = ({ data }) => {\r\n  const { regionId } = useParams<{ regionId: string }>();\r\n  const regionData = data.find((region) => region.region === regionId);\r\n\r\n  if (!regionData) {\r\n    return <p className=\"error-message\">Region not found</p>;\r\n  }\r\n\r\n  if (!regionData.results || !regionData.results.stats || !regionData.results.services) {\r\n    return <p className=\"error-message\">Incomplete data for the selected region</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"region-status\">\r\n      <h2>Region: {regionData.region.toUpperCase()}</h2>\r\n      <p>Status: <span className={`status-${regionData.status.toLowerCase()}`}>{regionData.status}</span></p>\r\n      <p>Last Checked: {new Date(regionData.lastChecked).toLocaleString()}</p>\r\n      <div className=\"services\">\r\n        <h3>Services Status</h3>\r\n        <p>Redis: {regionData.results.services.redis ? 'Online' : 'Offline'}</p>\r\n        <p>Database: {regionData.results.services.database ? 'Online' : 'Offline'}</p>\r\n      </div>\r\n      <div className=\"server-stats\">\r\n        <h3>Server Stats</h3>\r\n        <p>Servers Count: {regionData.results.stats.servers_count}</p>\r\n        <p>Online: {regionData.results.stats.online}</p>\r\n        <p>Sessions: {regionData.results.stats.session}</p>\r\n        <p>Active Connections: {regionData.results.stats.server.active_connections}</p>\r\n        <p>CPU Load: {regionData.results.stats.server.cpu_load * 100}%</p>\r\n        <p>Timers: {regionData.results.stats.server.timers}</p>\r\n      </div>\r\n      <div className=\"worker-stats\">\r\n        <h3>Worker Stats</h3>\r\n        {regionData.results.stats.server.workers.map(([name, stats]) => (\r\n          <div key={name} className=\"worker\">\r\n            <h4>{name.replace(/_/g, ' ').toUpperCase()}</h4>\r\n            <p>Workers: {stats.workers}</p>\r\n            <p>Waiting: {stats.waiting}</p>\r\n            <p>Idle: {stats.idle}</p>\r\n            <p>Wait Time: {stats.wait_time} ms</p>\r\n            <h5>Top Keys</h5>\r\n            <ul>\r\n              {stats.top_keys.map(([key, value]) => (\r\n                <li key={key}>{key}: {value}</li>\r\n              ))}\r\n            </ul>\r\n            <h5>Recently Blocked Keys</h5>\r\n            <ul>\r\n              {stats.recently_blocked_keys.map(([key, count, timestamp]) => (\r\n                <li key={key}>{key} - {count} times (Last Blocked: {new Date(timestamp).toLocaleString()})</li>\r\n              ))}\r\n            </ul>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RegionPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}